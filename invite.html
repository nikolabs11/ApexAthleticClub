<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enter Invite Code - Apex Athletic Club</title>
    <link rel="stylesheet" href="program.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.cells.min.js"></script>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
</head>
<body>
    <div id="vanta-bg"></div>
    <div id="overlay">
        <div id="logo-container">
            <a href="/">
                <img id="club-logo" src="images/AAC Logo.png" alt="Apex Athletic Club Logo">
            </a>
        </div>
        
        <div class="program-content">
            <h3>Enter Your Invite Code</h3>
            <form id="inviteForm">
                <input type="text" id="inviteCodeInput" placeholder="Enter Invite Code">
                <button type="submit">Submit</button>
            </form>
            <div id="loading" style="display: none; text-align: center; margin: 20px;"></div>
        </div>
    </div>

    <script>
        VANTA.CELLS({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            color1: 0x045034,
            color2: 0x109963,
            size: 0.20,
            speed: 0.00
        });

        document.getElementById('inviteForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const inviteCode = document.getElementById('inviteCodeInput').value.toUpperCase();
            if (inviteCode) {
                handleInviteCode(inviteCode);
            }
        });

        function handleInviteCode(code) {
            const validCodes = ['ELLIOT2025', 'COOPER2025'];
            const loadingDiv = document.getElementById('loading');
            loadingDiv.style.display = 'block';
            loadingDiv.textContent = 'Checking invite code...';
            setTimeout(() => {
                if (validCodes.includes(code)) {
                    loadingDiv.textContent = 'Valid invite code - redirecting...';
                    setTimeout(() => {
                        window.location.href = `program.html?invite_code=${code}`;
                    }, 1000);
                } else {
                    loadingDiv.textContent = 'Invalid invite code';
                    setTimeout(() => {
                        loadingDiv.style.display = 'none';
                    }, 2000);
                }
            }, 1500);
        }
    </script>
</body>
</html>